{% extends "base.html" %}

{% block title %}Al-Nokhba International Trading - Home{% endblock %}

{% block extra_css %}
<style>
    /* Hero Section */
    .hero {
        background: linear-gradient(rgba(30, 64, 175, 0.8), rgba(59, 130, 246, 0.8)), 
                    url('{{ url_for("static", filename="images/modern_office.jpg") }}') center/cover;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        color: white;
        position: relative;
    }

    .hero-content h1 {
        font-size: 3.5rem;
        margin-bottom: 1rem;
        font-weight: 700;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    .hero-content p {
        font-size: 1.3rem;
        margin-bottom: 2rem;
        max-width: 600px;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }

    /* Stats Section */
    .stats {
        background-color: white;
        padding: 4rem 0;
        box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        text-align: center;
    }

    .stat-item {
        padding: 2rem;
        border-radius: 10px;
        background: linear-gradient(135deg, #f59e0b, #d97706);
        color: white;
        transform: translateY(0);
        transition: transform 0.3s ease;
    }

    .stat-item:hover {
        transform: translateY(-5px);
    }

    .stat-number {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
    }

    .stat-label {
        font-size: 1.1rem;
        opacity: 0.9;
    }

    /* About Section */
    .about {
        padding: 6rem 0;
        background-color: #f8f9fa;
    }

    .about-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        align-items: center;
    }

    .about-text h2 {
        font-size: 2.5rem;
        color: #1e40af;
        margin-bottom: 1.5rem;
    }

    .about-text p {
        font-size: 1.1rem;
        line-height: 1.8;
        margin-bottom: 1.5rem;
        color: #4b5563;
    }

    .about-image {
        position: relative;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .about-image img {
        width: 100%;
        height: 400px;
        object-fit: cover;
    }

    /* Warehouse Showcase Section */
    .warehouse-showcase {
        padding: 6rem 0;
        background-color: #f8f9fa;
    }

    .warehouse-showcase-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
    }

    .warehouse-showcase-text h2 {
        font-size: 2.5rem;
        color: #1e40af;
        margin-bottom: 1.5rem;
    }

    .warehouse-showcase-text p {
        font-size: 1.1rem;
        line-height: 1.8;
        margin-bottom: 1.5rem;
        color: #4b5563;
    }

    .warehouse-showcase-image {
        position: relative;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .warehouse-showcase-image img {
        width: 100%;
        height: 400px;
        object-fit: cover;
    }

    /* Values Section */
    .values {
        padding: 6rem 0;
        background-color: white;
    }

    .values h2 {
        text-align: center;
        font-size: 2.5rem;
        color: #1e40af;
        margin-bottom: 3rem;
    }

    .values-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
    }

    .value-item {
        text-align: center;
        padding: 2rem;
        border-radius: 15px;
        background-color: #f8f9fa;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .value-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    .value-icon {
        font-size: 3rem;
        color: #f59e0b;
        margin-bottom: 1rem;
    }

    .value-item h3 {
        font-size: 1.3rem;
        color: #1e40af;
        margin-bottom: 1rem;
    }

    .value-item p {
        color: #6b7280;
        line-height: 1.6;
    }

    /* Partners Section */
    .partners {
        padding: 6rem 0;
        background: linear-gradient(135deg, #1e40af, #3b82f6);
        color: white;
    }

    .partners h2 {
        text-align: center;
        font-size: 2.5rem;
        margin-bottom: 3rem;
    }

    .partners-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
    }

    .partner-item {
        background-color: white;
        padding: 2rem;
        border-radius: 15px;
        text-align: center;
        transition: transform 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 120px;
    }

    .partner-item:hover {
        transform: scale(1.05);
    }

    .partner-logo {
        height: 80px;
        width: auto;
        max-width: 150px;
        object-fit: contain;
        transition: filter 0.3s ease;
    }

    .partner-item:hover .partner-logo {
        filter: brightness(1.1);
    }

    /* Currency Converter Section */
    .currency-converter {
        padding: 1.5rem 0;
        background-color: #f8f9fa;
    }

    .currency-converter h2 {
        text-align: center;
        font-size: 1.3rem;
        color: #1e40af;
        margin-bottom: 0.3rem;
    }

    .currency-converter p {
        text-align: center;
        font-size: 0.8rem;
        color: #6b7280;
        margin-bottom: 1rem;
    }

    .converter-container {
        max-width: 500px;
        margin: 0 auto;
        background-color: white;
        padding: 1rem;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .converter-input {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
    }

    .amount-input {
        flex: 1;
        min-width: 150px;
    }

    .amount-input label {
        display: block;
        font-weight: 600;
        color: #374151;
        margin-bottom: 0.3rem;
        font-size: 0.9rem;
    }

    .amount-input input {
        width: 100%;
        padding: 0.7rem;
        border: 2px solid #e5e7eb;
        border-radius: 8px;
        font-size: 1rem;
        transition: border-color 0.3s ease;
    }

    .amount-input input:focus {
        outline: none;
        border-color: #3b82f6;
    }

    .currency-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 0.5rem;
    }

    .currency-item {
        background-color: #f8f9fa;
        padding: 0.6rem;
        border-radius: 8px;
        text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 2px solid transparent;
    }

    .currency-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        border-color: #3b82f6;
    }

       .currency-flag {
        font-size: 1rem;
        margin-bottom: 0.2rem;
    }

    .currency-name {
        font-weight: 600;
        color: #1e40af;
        font-size: 0.7rem;
        margin-bottom: 0.1rem;
    }

    .currency-code {
        color: #6b7280;
        font-size: 0.6rem;
        margin-bottom: 0.2rem;
    }

    .currency-value {
        font-size: 0.9rem;
        font-weight: bold;
        color: #059669;
    }

    .currency-symbol {
        color: #6b7280;
        font-size: 0.7rem;
    }

    .loading {
        text-align: center;
        color: #6b7280;
        font-style: italic;
        font-size: 0.9rem;
    }

    .error {
        text-align: center;
        color: #dc2626;
        background-color: #fef2f2;
        padding: 0.7rem;
        border-radius: 8px;
        margin-bottom: 0.7rem;
        font-size: 0.9rem;
    }

    .last-updated {
        text-align: center;
        font-size: 0.8rem;
        color: #6b7280;
        margin-top: 1rem;
    }

    /* CTA Section */
    .cta {
        padding: 6rem 0;
        background: linear-gradient(rgba(245, 158, 11, 0.9), rgba(217, 119, 6, 0.9)), 
                    url('{{ url_for("static", filename="images/business_handshake.jpg") }}') center/cover;
        text-align: center;
        color: white;
    }

    .cta h2 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    .cta p {
        font-size: 1.2rem;
        margin-bottom: 2rem;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }

    .cta-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
    }

    .btn-white {
        background-color: white;
        color: #1e40af;
    }

    .btn-white:hover {
        background-color: #f3f4f6;
        color: #1e40af;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .hero-content h1 {
            font-size: 2.5rem;
        }

        .hero-content p {
            font-size: 1.1rem;
        }

        .about-content {
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        .stats-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .values-grid {
            grid-template-columns: 1fr;
        }

        .partners-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .cta-buttons {
            flex-direction: column;
            align-items: center;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="hero-content">
        <h1>Al-Nokhba International Trading</h1>
        <p>Your trusted partner in international trade and IT solutions</p>
        <div class="cta-buttons">
            <a href="{{ url_for('main.trading_services') }}" class="btn">Explore Our Services</a>
            <a href="{{ url_for('main.contact') }}" class="btn btn-white">Contact Us</a>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats">
    <div class="container">
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-number">15+</div>
                <div class="stat-label">Years of Experience</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">1000+</div>
                <div class="stat-label">Satisfied Clients</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">20+</div>
                <div class="stat-label">Global Brands</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">15+</div>
                <div class="stat-label">Countries Served</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">10,000</div>
                <div class="stat-label">Sq.m Warehouse</div>
            </div>
        </div>
    </div>
</section>

<!-- About Section -->
<section class="about">
    <div class="container">
        <div class="about-content">
            <div class="about-text">
                <h2>About Us</h2>
                <p>With over 15 years of experience in international trade, Al-Nokhba International Trading stands as one of the largest and most trusted trading companies in the Middle East and North Africa region.</p>
                <p>We specialize in providing advanced technological solutions from the world's leading brands, committed to delivering the best prices and highest service levels to our clients.</p>
                <p>Our strategic location in Egypt enables us to serve clients throughout the Middle East, North Africa, and beyond.</p>
                <a href="{{ url_for('main.trading_services') }}" class="btn">Learn More About Our Services</a>
            </div>
            <div class="about-image">
                <img src="{{ url_for('static', filename='images/technology_office.jpg') }}" alt="Technology Office">
            </div>
        </div>
    </div>
</section>

<!-- Warehouse Showcase Section -->
<section class="warehouse-showcase">
    <div class="container">
        <div class="warehouse-showcase-content">
            <div class="warehouse-showcase-image">
                <img src="{{ url_for('static', filename='images/warehouse_storage.jpg') }}" alt="Modern Warehouse Storage">
            </div>
            <div class="warehouse-showcase-text">
                <h2>State-of-the-Art Warehouse Facilities</h2>
                <p>Our 10,000 square meter warehouse facility is equipped with the latest storage and inventory management systems, ensuring optimal conditions for all technology products.</p>
                <p>With advanced climate control, security systems, and efficient logistics operations, we guarantee the safe storage and timely delivery of your orders.</p>
                <p>Our strategic location provides easy access to major shipping routes, enabling fast and cost-effective distribution across the region.</p>
            </div>
        </div>
    </div>
</section>

<!-- Values Section -->
<section class="values">
    <div class="container">
        <h2>Our Core Values</h2>
        <div class="values-grid">
            <div class="value-item">
                <div class="value-icon">
                    <i class="fas fa-award"></i>
                </div>
                <h3>Quality</h3>
                <p>We are committed to providing only high-quality products from the world's leading brands</p>
            </div>
            <div class="value-item">
                <div class="value-icon">
                    <i class="fas fa-handshake"></i>
                </div>
                <h3>Trust</h3>
                <p>We build long-term relationships with our clients and partners based on mutual trust</p>
            </div>
            <div class="value-item">
                <div class="value-icon">
                    <i class="fas fa-lightbulb"></i>
                </div>
                <h3>Innovation</h3>
                <p>We stay current with the latest technological developments and provide innovative solutions</p>
            </div>
            <div class="value-item">
                <div class="value-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <h3>Excellent Service</h3>
                <p>We provide 24/7 technical support and customer service to ensure client satisfaction</p>
            </div>
            <div class="value-item">
                <div class="value-icon">
                    <i class="fas fa-eye"></i>
                </div>
                <h3>Transparency</h3>
                <p>We conduct business with honesty and clarity in all our commercial transactions</p>
            </div>
        </div>
    </div>
</section>

<!-- Partners Section -->
<section class="partners">
    <div class="container">
        <h2>Our Global Partners</h2>
        <p class="text-center" style="font-size: 1.2rem; margin-bottom: 3rem;">We are proud of our partnerships with the world's leading brands</p>
        <div class="partners-grid">
            <div class="partner-item">
                <img src="{{ url_for('static', filename='assets/logos/dell_logo.png') }}" alt="Dell" class="partner-logo">
            </div>
            <div class="partner-item">
                <img src="{{ url_for('static', filename='assets/logos/hp_logo.jpg') }}" alt="HP" class="partner-logo">
            </div>
            <div class="partner-item">
                <img src="{{ url_for('static', filename='assets/logos/lenovo_logo.png') }}" alt="Lenovo" class="partner-logo">
            </div>
            <div class="partner-item">
                <img src="{{ url_for('static', filename='assets/logos/samsung_logo.png') }}" alt="Samsung" class="partner-logo">
            </div>
            <div class="partner-item">
                <img src="{{ url_for('static', filename='assets/logos/asus_logo.png') }}" alt="ASUS" class="partner-logo">
            </div>
            <div class="partner-item">
                <img src="{{ url_for('static', filename='assets/logos/hikvision_logo.png') }}" alt="Hikvision" class="partner-logo">
            </div>
            <div class="partner-item">
                <img src="{{ url_for('static', filename='assets/logos/benq_logo.png') }}" alt="BenQ" class="partner-logo">
            </div>
        </div>
    </div>
</section>

<!-- Currency Converter Section -->
<section class="currency-converter">
    <div class="container">
        <h2>Currency Converter</h2>
        <p>Convert US Dollar to major currencies with live exchange rates</p>
        
        <div class="converter-container">
            <div class="converter-input">
                <div class="amount-input">
                    <label for="usdAmount">Amount in US Dollar (USD)</label>
                    <input type="number" id="usdAmount" value="1" min="0" step="0.01" placeholder="Enter amount">
                </div>
            </div>
            
            <div id="currencyResults">
                <div class="loading">Loading exchange rates...</div>
            </div>
            
            <div class="last-updated" id="lastUpdated"></div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta">
    <div class="container">
        <h2>Ready to Start Your Project?</h2>
        <p>Contact us today and get a free consultation from our experts</p>
        <div class="cta-buttons">
            <a href="{{ url_for('main.contact') }}" class="btn btn-white">Get a Quote</a>
            <a href="{{ url_for('main.import_export') }}" class="btn">Import & Export Services</a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Currency Converter functionality
    let exchangeRates = {};
    let lastUpdateTime = null;

    // Currency flags mapping
    const currencyFlags = {
        'EGP': '🇪🇬',
        'AED': '🇦🇪',
        'TRY': '🇹🇷',
        'CNY': '🇨🇳',
        'EUR': '🇪🇺'
    };

    // Load exchange rates
    async function loadExchangeRates() {
        try {
            const response = await fetch('/api/exchange-rates');
            const data = await response.json();
            
            if (data.status === 'success') {
                exchangeRates = data.rates;
                lastUpdateTime = new Date();
                displayCurrencyResults();
                updateLastUpdatedTime();
            } else {
                showError('Failed to load exchange rates');
            }
        } catch (error) {
            console.error('Error loading exchange rates:', error);
            showError('Error loading exchange rates');
        }
    }

    // Display currency conversion results
    function displayCurrencyResults() {
        const resultsContainer = document.getElementById('currencyResults');
        const usdAmount = parseFloat(document.getElementById('usdAmount').value) || 1;
        
        let html = '<div class="currency-grid">';
        
        for (const [code, data] of Object.entries(exchangeRates)) {
            const convertedAmount = (usdAmount * data.rate).toFixed(2);
            const flag = currencyFlags[code] || '💱';
            
            html += `
                <div class="currency-item">
                    <div class="currency-flag">${flag}</div>
                    <div class="currency-name">${data.name}</div>
                    <div class="currency-code">${code}</div>
                    <div class="currency-value">${convertedAmount}</div>
                    <div class="currency-symbol">${data.symbol}</div>
                </div>
            `;
        }
        
        html += '</div>';
        resultsContainer.innerHTML = html;
    }

    // Show error message
    function showError(message) {
        const resultsContainer = document.getElementById('currencyResults');
        resultsContainer.innerHTML = `<div class="error">${message}</div>`;
    }

    // Update last updated time
    function updateLastUpdatedTime() {
        if (lastUpdateTime) {
            const timeString = lastUpdateTime.toLocaleString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('lastUpdated').textContent = `Last updated: ${timeString}`;
        }
    }

    // Initialize currency converter
    document.addEventListener('DOMContentLoaded', function() {
        // Load exchange rates on page load
        loadExchangeRates();
        
        // Update conversion when amount changes
        const usdAmountInput = document.getElementById('usdAmount');
        if (usdAmountInput) {
            usdAmountInput.addEventListener('input', function() {
                if (Object.keys(exchangeRates).length > 0) {
                    displayCurrencyResults();
                }
            });
        }
        
        // Refresh rates every 5 minutes
        setInterval(loadExchangeRates, 5 * 60 * 1000);
    });

    // Animate stats on scroll
    const observerOptions = {
        threshold: 0.5,
        rootMargin: '0px 0px -100px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const statNumbers = entry.target.querySelectorAll('.stat-number');
                statNumbers.forEach(stat => {
                    const finalNumber = stat.textContent;
                    const isPlus = finalNumber.includes('+');
                    const number = parseInt(finalNumber.replace(/[^0-9]/g, ''));
                    
                    let current = 0;
                    const increment = number / 50;
                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= number) {
                            stat.textContent = finalNumber;
                            clearInterval(timer);
                        } else {
                            stat.textContent = Math.floor(current) + (isPlus ? '+' : '');
                        }
                    }, 30);
                });
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);

    const statsSection = document.querySelector('.stats');
    if (statsSection) {
        observer.observe(statsSection);
    }
</script>
{% endblock %}

